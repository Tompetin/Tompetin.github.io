<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level 3: DDoS Defense</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
    <link rel="stylesheet" href="level3.css">
    <script src="level3.js" defer></script>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-lg">
        <div class="container">
            <a class="navbar-brand" href="#">Cyber Security Game</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../../index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="../level1/level1.html">Level 1</a></li>
                    <li class="nav-item"><a class="nav-link" href="../level2/level2.html">Level 2</a></li>
                    <li class="nav-item"><a class="nav-link" href="../level3/level3.html">Level 3</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="bg-primary text-white text-center py-4">
        <div class="container">
            <h1>Level 3: DDoS Defense</h1>
            <p>Defend the server from malicious traffic by placing firewalls and other defenses strategically!</p>
        </div>
    </header>

    <main class="container mt-4">
        <!-- Game Instructions Section -->
        <div class="text-center mb-4" id="gameExplanation">
            <h3>How to Play</h3>
            <p>In this level, you must defend your server from malicious traffic. Use the buttons below to select a defense type (Firewall or Rate Limiter) and place it on the grid. As traffic moves through the grid, try to stop bad IPs from reaching the server by strategically placing defenses. Bad IPs can be identified by red color or text on green IPs. Block them with a firewall and they get found and disappear, leaving the good ones behind. Your goal is to protect the server and earn points. You earn points by blocking bad IPs and letting good IPs reach the end. You lose server HP with every bad IP that reaches the end. You win by getting to 1000 points and lose if the server health goes to 0. Watch your funds and server health closely!</p>

            <h4>Defense Types:</h4>
            
                <p><strong>Firewall</strong>: Blocks all malicious traffic that passes through it. It costs 100 funds to place and earns you points when it successfully blocks traffic.</p>
                <p><strong>Rate Limiter</strong>: Limits the number of requests from a malicious IP, slowing it down. It costs 20 funds to place. Each rate limiter can block traffic up to two times before deactivating.</p>
            <!--<p><strong>Traffic Analyzer</strong>: Identifies and marks malicious IPs for easier detection. It costs 70 funds to place. This tool helps you monitor traffic and prepare for defense placement.</p> -->
            
        </div>
        <!-- Difficulty and Game Mode Chooser -->
        <div id="gameSetup" class="text-center mb-4">
            <h3>Game Setup</h3>
            <div>
                <label for="difficultySelect">Select Difficulty:</label>
                <select id="difficultySelect" class="form-select w-25 mx-auto">
                    <option value="Easy" selected>Easy</option>
                    <option value="Medium">Medium</option>
                    <option value="Hard">Hard</option>
                </select>
            </div>
            <div class="mt-3">
                <label for="gameModeSelect">Select Game Mode:</label>
                <select id="gameModeSelect" class="form-select w-25 mx-auto">
                    <option value="Standard" selected>Standard</option>
                    <option value="Infinite">Infinite</option>
                </select>
            </div>
        </div>
        <!-- Start Game Button -->
        <div class="text-center mb-4">
            <button class="btn btn-success" id="startButton">Start Game</button>
        </div>

        <div class="game-area" id="gameArea">
            <div class="grid-container">
                <!-- Grid cells will be dynamically generated -->
            </div>
        </div>
        
        <!-- Defense Controls -->
        <div class="controls mt-4 text-center">
            <h3>Place Your Defenses</h3>
            <button id="hide" style="display: none;" class="btn btn-warning me-2" onclick="selectDefense('firewall')">Firewall (100)</button>
            <button id="hide2" style="display: none;" class="btn btn-success me-2" onclick="selectDefense('rateLimiter')">Rate Limiter (20)</button>
            <!--<button class="btn btn-info me-2" onclick="selectDefense('analyzer')">Traffic Analyzer (70)</button>-->
        </div>
        
        <!-- Game Stats -->
        <div class="stats">
            <p>Funds: <span id="funds">1000</span></p>
            <p>Server Health: <span id="serverHealth">100</span></p>
            <p>Points: <span id="points">0</span></p>
        </div>

        <!-- Restart Button -->
        <button id="restartButton" class="btn btn-primary" onclick="restartGame()">Restart Game</button>
    </main>
    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-4">
        <p>&copy; 2024 Cyber Security Game. Stay Safe! Made by Tompetin.</p>
    </footer>
</body>

</html>
